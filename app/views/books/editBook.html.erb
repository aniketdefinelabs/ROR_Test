<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
  }

  form div {
    margin-bottom: 15px;
  }

  label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }

  input[type="text"],
  input[type="date"] {
    padding: 8px;
    width: 100%;
    max-width: 300px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  input[type="submit"] {
    padding: 10px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  input[type="submit"]:hover {
    background-color: #0056b3;
  }
</style>

</head>
<body>
    
 <div style="margin-bottom: 15px;">
    <%= link_to "Add Book", "/authors/newBook", class: "add-author-button" %>
  </div>
    <%= form_with model: @book,  url: "/books/updateBook/#{@book.id}", local: true, method: :patch, data: { turbo: true } do |f| %>
    <div>
        <%=f.label :book_title, "book_title"%>
    <%= f.text_field  :book_title%>
    </div>
    

    <div class="dropdown"></div>
  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
    Select Authors
  </button>
  <ul class="dropdown-menu" style="max-height: 200px; overflow-y: auto;">
    <% @authors.each do |author| %>
      <li class="dropdown-item">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="book[author_ids][]" value="<%= author.id %>" id="author<%= author.id %>">
          <label class="form-check-label" for="book<%= author.id %>">
            <%= author.first_name %>  <%= author.last_name %>  
          </label>
        </div>
      </li>
    <% end %>
  </ul>


    <%=f.submit "Submit", disable_with: 'Submiting...'%>
    <%end%>
</body>
</html>