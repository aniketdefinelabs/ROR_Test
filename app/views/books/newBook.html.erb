<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
  body {
    font-family: Arial, sans-serif;
    padding: 20px;
  }

  h1 {
    margin-bottom: 20px;
  }

  form > div {
    margin-bottom: 15px;
  }

  label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }

  input[type="text"],
  select,
  .dropdown button {
    width: 300px;
    padding: 8px;
    font-size: 14px;
  }

  .dropdown {
    position: relative;
    display: inline-block;
  }

  .dropdown-menu {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 300px;
    border: 1px solid #ccc;
    z-index: 1;
    padding: 10px;
  }



  .form-check {
    margin-bottom: 5px;
  }

  .form-check-input {
    margin-right: 8px;
  }

  input[type="submit"] {
    padding: 10px 20px;
    background-color: #2d89ef;
    color: white;
    border: none;
    cursor: pointer;
  }

  input[type="submit"]:hover {
    background-color: #1b5fbf;
  }
</style>

</head>
<body>
    <h1>
        Add New Book
    </h1>

    <%= form_with scope: :book,  url: "/books/create", local: true, method: :post, data: { turbo: true } do |f| %>
     <div>
        <%=f.label :book_title, "book_title"%>
    <%= f.text_field  :book_title%>
    </div>

<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
    Select Authors
  </button>
  <ul class="dropdown-menu" style="max-height: 200px; overflow-y: auto;">
    <% @authors.each do |author| %>
      <li class="dropdown-item">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="book[author_ids][]" value="<%= author.id %>" id="author_<%= author.id %>">
          <label class="form-check-label" for="author_<%= author.id %>">
            <%= author.first_name %> <%= author.last_name %>
          </label>
        </div>
      </li>
    <% end %>
  </ul>
</div>









  <%= f.submit "Submit" %>

    <%end%>


</body>
</html>